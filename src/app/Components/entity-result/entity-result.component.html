<div class="container mobile-center">
  <div
    style="
      display: flex;
      flex-direction: row;
      align-items: center;
      margin-top: 50px;
    "
  >
    <h1 class="display-4">Results</h1>
    <button
      mat-icon-button
      style="margin-left: 20px"
      (click)="returnToEntity()"
    >
      <mat-icon><i class="bi bi-arrow-return-left"></i></mat-icon>
    </button>
  </div>
  <mat-tab-group *ngIf="data[0].fields.hasOwnProperty('personLookup')">
    <mat-tab *ngFor="let item of data" [label]="item.fields.displayTitle">
      <div class="mobile-center">
        <div style="display: flex">
          <h1
            class="fw-light fs-1"
            style="margin-top: 30px; margin-bottom: 20px"
          >
            {{ item.fields.displayTitle }}
          </h1>
        </div>
        <p class="fw-light" *ngFor="let def of item.fields.dictText">
          {{ def }}
        </p>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Property</th>
              <th scope="col">Value</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="item.fields.hasOwnProperty('name')">
              <td>Name:</td>
              <td>{{ item.fields.name }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('personLookup')">
              <td>Person Lookup:</td>
              <td>{{ item.fields.personLookup }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('alsoCalled')">
              <td>AlsoCalled:</td>
              <td>
                <p *ngFor="let name of item.fields.alsoCalled">
                  {{ name }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('gender')">
              <td>Gender:</td>
              <td>{{ item.fields.gender }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('birthYear')">
              <td>Birth Year:</td>
              <td>{{ item.fields.birthYear }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('deathYear')">
              <td>Death Year:</td>
              <td>{{ item.fields.deathYear }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('memberOf')">
              <td>People Groups:</td>
              <td>
                <p *ngFor="let group of item.fields.memberOf">{{ group }}</p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('birthPlace')">
              <td>Birthplace:</td>
              <td>{{ item.fields.birthPlace }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('deathPlace')">
              <td>Deathplace:</td>
              <td>{{ item.fields.deathPlace }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('siblings')">
              <td>Siblings:</td>
              <td>
                <p *ngFor="let sibling of item.fields.siblings">
                  {{ sibling }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('mother')">
              <td>Mother:</td>
              <td>{{ item.fields.mother }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('father')">
              <td>Father:</td>
              <td>{{ item.fields.father }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('children')">
              <td>Siblings:</td>
              <td>
                <p *ngFor="let child of item.fields.children">
                  {{ child }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('partners')">
              <td>Partners:</td>
              <td>
                <p *ngFor="let partner of item.fields.partners">
                  {{ partner }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('verseCount')">
              <td>Verse Count:</td>
              <td>{{ item.fields.verseCount }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('slug')">
              <td>Unique Identifier:</td>
              <td>{{ item.fields.slug }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('surname')">
              <td>Surname:</td>
              <td>{{ item.fields.surname }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('occupations')">
              <td>Occupations:</td>
              <td>
                <p *ngFor="let job of item.fields.occupations">
                  {{ job }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('halfSiblingsSameMother')">
              <td>Half-Siblings W. Same Mother:</td>
              <td>
                <p
                  *ngFor="
                    let kid of item.fields
                      .halfSiblingsSameMotherhalfSiblingsSameMother
                  "
                >
                  {{ kid }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('halfSiblingsSameFather')">
              <td>Half-Siblings W. Same Father:</td>
              <td>
                <p
                  *ngFor="
                    let kid of item.fields
                      .halfSiblingsSameMotherhalfSiblingsSameFather
                  "
                >
                  {{ kid }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('chaptersWritten')">
              <td>Chapters Written:</td>
              <td>
                <p *ngFor="let chap of item.fields.chaptersWritten">
                  {{ chap }}
                </p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-tab>
  </mat-tab-group>

  <mat-tab-group *ngIf="data[0].fields.hasOwnProperty('placeLookup')">
    <mat-tab *ngFor="let item of data" [label]="item.fields.displayTitle">
      <div class="mobile-center">
        <div style="display: flex">
          <h1
            class="fw-light fs-1"
            style="margin-top: 30px; margin-bottom: 20px"
          >
            {{ item.fields.displayTitle }}
          </h1>
        </div>
        <p class="fw-light" *ngFor="let def of item.fields.dictText">
          {{ def }}
        </p>
        <p *ngIf="item.fields.hasOwnProperty('comment')">
          {{ item.fields.comment }}
        </p>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Property</th>
              <th scope="col">Value</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="item.fields.hasOwnProperty('aliases')">
              <td>Duplicate of:</td>
              <td>
                <p *ngFor="let alias of item.fields.aliases">
                  {{ alias }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('duplicate_of')">
              <td>Duplicate of:</td>
              <td>
                <p *ngFor="let duplicate of item.fields.duplicate_of">
                  {{ duplicate }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('placeID')">
              <td>Name:</td>
              <td>{{ item.fields.placeID }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('latitude')">
              <td>Latitude:</td>
              <td>{{ item.fields.latitude }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('longitude')">
              <td>Longitude:</td>
              <td>{{ item.fields.longitude }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('featureType')">
              <td>Feature Type:</td>
              <td>{{ item.fields.featureType }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('precision')">
              <td>Precision:</td>
              <td>{{ item.fields.precision }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('verseCount')">
              <td>Verse Count:</td>
              <td>{{ item.fields.verseCount }}</td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('peopleBorn')">
              <td>People Born:</td>
              <td>
                <p *ngFor="let person of item.fields.peopleBorn">
                  {{ person }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('peopleDied')">
              <td>People Died:</td>
              <td>
                <p *ngFor="let person of item.fields.peopleDied">
                  {{ person }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('booksWritten')">
              <td>Books Written:</td>
              <td>
                <p *ngFor="let book of item.fields.booksWritten">
                  {{ book }}
                </p>
              </td>
            </tr>
            <tr *ngIf="item.fields.hasOwnProperty('slug')">
              <td>Unique Identifier:</td>
              <td>{{ item.fields.slug }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-tab>
  </mat-tab-group>

  <mat-tab-group *ngIf="data[0].fields.hasOwnProperty('groupName')">
    <mat-tab *ngFor="let item of data" [label]="item.fields.groupName">
      <div class="mobile-center">
        <div style="display: flex">
          <h1
            class="fw-light fs-1"
            style="margin-top: 30px; margin-bottom: 20px"
          >
            {{ item.fields.groupName }}
          </h1>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Property</th>
              <th scope="col">Value</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="item.fields.hasOwnProperty('members')">
              <td>Group Members:</td>
              <td>
                <p *ngFor="let member of item.fields.members">
                  {{ member }}
                </p>
              </td>
            </tr>
            
            <tr *ngIf="item.fields.hasOwnProperty('verses')">
              <td>People Born:</td>
              <td>
                <p *ngFor="let verse of item.fields.verses">
                  {{ verse }}
                </p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
